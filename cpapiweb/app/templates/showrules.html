<html>
    <head>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/main.css') }}">
        <link rel="shortcut icon" href="{{ url_for('static', filename='cpapi.ico') }}">
    </head>
        <body>
            {% block navbar %}
            {{nav.mynavbar.render()}}
            {% endblock %}
            <h1>
                Show Rulebase
            </h1>
            <p>
                Display policy.
            </p>
            <form action="" method="post" name="showrules">
                <p>
                    Rulebase:
                    <select name="layer">
                        {% for layer in alllayers %}
                            <option value="{{ layer }}">{{ layer }}</option>
                        {% endfor %}
                    </select>
                    <input type="submit" value="Submit"><br>
                </p>
            </form>
            {% if response %}
                <table style="width:100%">
                    <tr>
                        <th>Number</th>
                        <th>Name</th>
                        <th>Source</th>
                        <th>Destination</th>
                        <th>Service</th>
                        <th>Action</th>
                        <th>Track</th>
                        <th>Target</th>
                    </tr>
                {% for rule in response %}
                    <tr>
                        <td>{{ rule['number'] }}</td>
                        <td>{{ rule['name'] }}</td>
                        <td>
                        {% for source in rule['source'] %}
                            {{ source }}<br>
                        {% endfor %}
                        </td>
                        <td>
                        {% for destination in rule['destination'] %}
                            {{ destination }}<br>
                        {% endfor %}
                        </td>
                        <td>
                        {% for service in rule['service'] %}
                            {{ service }}<br>
                        {% endfor %}
                        </td>
                        <td>{{ rule['action'] }}</td>
                        <td>{{ rule['track'] }}</td>
                        <td>
                        {% for target in rule['target'] %}
                            {{ target }}<br>
                        {% endfor %}
                        </td>
                    </tr>
                {% endfor %}
            {% endif %}
        </body>
</html>
